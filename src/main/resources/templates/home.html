<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" th:href="@{/css/home.css}">
	<link rel="stylesheet" th:href="@{/css/sidebar.css}">
	<script src="/js/home.js"></script>
    <script type="text/javascript" 
    src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=decabf1a98a2b15f0b977ba76ec9095c&autoload=false">
    </script>
</head>

<body>
	<div class="home-container">
	    <div class="home-content1">

	        <h1>교통 사고 데이터</h1>

	        <div>
	            <h3>Labels:</h3>
	            <ul>
	                <li th:each="label : ${flask.labels}" th:text="${label}"></li>
	            </ul>
	        </div>

	        <div>
	            <h3>사고건수:</h3>
	            <ul>
	                <li th:each="accident : ${flask.사고건수}" th:text="${accident}"></li>
	            </ul>
	        </div>

	        <div>
	            <h3>사망자수:</h3>
	            <ul>
	                <li th:each="death : ${flask.사망자수}" th:text="${death}"></li>
	            </ul>
	        </div>

	        <div>
	            <h3>부상자수:</h3>
	            <ul>
	                <li th:each="injury : ${flask.부상자수}" th:text="${injury}"></li>
	            </ul>
	        </div>

	    </div>
	</div>

      <script>
        window.onload = function() {
          // 페이지가 로드될 때 기본 이미지를 설정
          const imageContainer = document.querySelector(".image-container");
          const imageElement = imageContainer.querySelector(".toggle-image");
      
          // 기본 이미지로 설정할 경로
          const defaultImageSrc = "traffic_2018.png";
      
          // 기본 이미지 설정
          imageElement.src = defaultImageSrc;
          imageContainer.style.display = "block"; // 이미지 컨테이너 보이기
        };
      
        function toggleSub(button) {
          const currentSub = button.nextElementSibling;
          const allSubButtons = document.querySelectorAll('.sub-buttons');
        
          allSubButtons.forEach(sub => {
            // 현재 클릭한 하위 버튼 외의 모든 하위 버튼 닫기
            if (sub !== currentSub) {
              sub.classList.remove('active');
            }
          });
        
          // 현재 클릭한 하위 버튼은 토글
          currentSub.classList.toggle('active');
        }
      
        function showImage(button) {
          const imageContainer = document.querySelector(".image-container");
          const imageElement = imageContainer.querySelector(".toggle-image");
      
          // 클릭된 버튼에서 data-image 속성값을 가져와서 이미지 소스로 설정
          const imageSrc = button.getAttribute("data-image");
      
          // 이미지 소스를 설정하고 이미지 보이게 하기
          imageElement.src = imageSrc;
          imageContainer.style.display = "block"; // 이미지 표시
        }
      </script>
      
      


      <!-- 이미지 컨테이너 -->
      <div class="image-container">
        <img src="traffic_2018.png" alt="Image" class="toggle-image">
      </div>
    </div>
    

  
      <div class="scroll_down_box map">
        <div class="scroll_ani">
          <p>Scroll Here !</p>
        </div>
        
          <!-- 스크립트는 아래에 -->
          <script>
            document.addEventListener('DOMContentLoaded', () => {
  const scrollBox = document.querySelector('.scroll_ani');

  if (scrollBox) {
    scrollBox.addEventListener('wheel', (e) => {
      e.preventDefault(); // 기본 휠 동작 막기
      const direction = e.deltaY > 0 ? 1 : -1;
      console.log(`Scroll direction: ${direction}`);
      window.scrollBy({
        top: direction * window.innerHeight,
        behavior: 'smooth'
      });
    }, { passive: false });
  } else {
    console.warn('.scroll_ani 요소를 찾을 수 없습니다!');
  }
});

          </script>
        

    </div>

  </div>
  
  
    <!-- 넷바 -->
    <nav class="navbar">
      <div class="container-fluid">
          <!-- 브랜드 영역 -->
          <a th:href="@{/home}" class="navbar-brand">
              <img href="#" src="/img/Logo.png" alt="Logo" class="logo">
          </a>
             <!-- <span class="brandname">교통정보사이트</span>-->

          <!-- 메뉴 -->
          <ul class="menu">
              <li>
                  <a href="#">교통상황</a>
                  <ul class="submenu">
                      <li><a th:href="@{/opendata/}">교통정보</a></li>
                      <li><a href="#">CCTV</a></li>
                      <li><a href="#">돌발상황</a></li>
                      <li><a href="#">기상정보</a></li>
                  </ul>
              </li>
              <li>
                  <a href="#">교통자료</a>
                  <ul class="submenu">
                      <li><a href="#">교통사고 데이터</a></li>
                      <li><a href="#">년도별</a></li>
                      <li><a href="#">요일별</a></li>
                  </ul>
              </li>
              <li><a th:href="@{/board}">게시판</a></li>
              <li>
                  <a th:href="@{/info}">회원정보</a>
                  <ul class="submenu">
                      <li><a th:href="@{/login}">로그인</a></li>
                      <li><a th:href="@{/login}">회원가입</a></li>
                      <li><a href="#">비밀번호 찾기</a></li>
                  </ul>
              </li>
          </ul>

          <!-- 로그인 아이콘 -->
          <a th:href="@{/login}" id="auth-link" class="icon2">
              <img id="auth-icon" src="http://localhost:9/img/Login.png" alt="Login Icon" class="icon2">
              <span id="auth-text">Login</span>
          </a>
      </div>
  </nav>
        
        
    <!-- 고정 사이드바 -->
    <div class="sidebar">
      
      <!-- Font Awesome CDN 추가 -->
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
	  <ul>
	    <li>
	      <button type="button" class="sidebar-button">
	        <a th:href="@{/sidebar(section='traffic')}">
				<i class="fa-solid fa-car"></i> <br>교통<br>속보
			</a>
	      </button>
	    </li>
	    <li>
	      <button type="button" class="sidebar-button">
				<a th:href="@{/sidebar(section='weather')}">
					<i class="fa-solid fa-cloud-sun"></i> <br>기상<br>정보
				</a>
			</button>
	    </li>
	    <li>
	      <button type="button" class="sidebar-button" >
			<a th:href="@{/sidebar(section='cctv')}">
				<i class="fa-solid fa-video"></i> <br>CCTV<br>검색
			</a>
	      </button>
	    </li>
	    <li>
	      <button type="button" class="sidebar-button" >
	        <i class="fa-solid fa-right-from-bracket"></i> 로그<br>아웃
	      </button>
	    </li>
	    <li>
	      <button type="button" class="sidebar-button" >
			<a th:href="@{/sidebar(section='settings')}">
		        <i class="fa-solid fa-gear"></i> <br>설정
			</a>
	      </button>
	    </li>
	  </ul>
    </div>
  
      <!-- 사이드바 스크립트 -->
  	<script src="/js/sidebar.js"></script>
  

        <!-- 지도 -->
	<div id="home-map" style="background-color: rgb(71, 62, 52);"> 지도 지도 </div>

        
        <!-- 지도 스크립트 -->
        <script>
            kakao.maps.load(function () {
                var container = document.getElementById('home-map');
                var options = {
                    center: new kakao.maps.LatLng(37.570715, 126.985324),
                    level: 3
                };
                var map = new kakao.maps.Map(container, options);
            });
        </script>
  
    
  </div>

  <div class="home-content3">
	개발 예정
  </div>
</div>
  </body>
</html>